(function(e){function t(r){function a(e){return e&&"object"==typeof e&&!xr(e)&&nr.call(e,"__wrapped__")?e:new W(e)}function M(e){var t=e.length,n=t>=l;if(n)for(var r={},i=-1;t>++i;){var a=u+e[i];(r[a]||(r[a]=[])).push(e[i])}return function(t){if(n){var i=u+t;return r[i]&&Kt(r[i],t)>-1}return Kt(e,t)>-1}}function R(e){return e.charCodeAt(0)}function F(e,t){var r=e.index,i=t.index;if(e=e.criteria,t=t.criteria,e!==t){if(e>t||e===n)return 1;if(t>e||t===n)return-1}return i>r?-1:1}function D(e,t,n,r){function i(){var r=arguments,l=s?this:t;if(a||(e=t[o]),n.length&&(r=r.length?(r=vr.call(r),u?r.concat(n):n.concat(r)):n),this instanceof i){z.prototype=e.prototype,l=new z,z.prototype=null;var c=e.apply(l,r);return pt(c)?c:l}return e.apply(l,r)}var a=ct(e),s=!n,o=t;if(s){var u=r;n=t}else if(!a){if(!r)throw new Wn;t=e}return i}function J(){for(var e,t={shadowedProps:w,support:_r,arrays:"isArray(iterable)",bottom:"",init:"iterable",loop:"",top:"",useHas:!0,useKeys:!!Lr},n=0;e=arguments[n];n++)for(var r in e)t[r]=e[r];var i=t.args;t.firstArg=/^[^,]+/.exec(i)[0];var s=Fn("hasOwnProperty, isArguments, isArray, isString, keys, lodash, objectTypes","return function("+i+") {\n"+Cr(t)+"\n}");return s(nr,Q,xr,vt,Lr,a,A)}function $(e){return"\\"+q[e]}function H(e){return Tr[e]}function X(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}function W(e){this.__wrapped__=e}function z(){}function K(e){var t=!1;if(!e||sr.call(e)!=S||!_r.argsClass&&Q(e))return t;var n=e.constructor;return(ct(n)?n instanceof n:_r.nodeClass||!X(e))?_r.ownLast?(Nr(e,function(e,n,r){return t=nr.call(r,n),!1}),t===!0):(Nr(e,function(e,n){t=n}),t===!1||nr.call(e,t)):t}function V(e,t,r){t||(t=0),r===n&&(r=e?e.length:0);for(var i=-1,a=r-t||0,s=In(0>a?0:a);a>++i;)s[i]=e[t+i];return s}function G(e){return Pr[e]}function Q(e){return sr.call(e)==x}function Y(e,t,r,i,s,o){var u=e;if("function"==typeof t&&(i=r,r=t,t=!1),"function"==typeof r){if(r=i===n?r:a.createCallback(r,i,1),u=r(u),u!==n)return u;u=e}var l=pt(u);if(l){var c=sr.call(u);if(!U[c]||!_r.nodeClass&&X(u))return u;var p=xr(u)}if(!l||!t)return l?p?V(u):Sr({},u):u;var f=mr[c];switch(c){case L:case E:return new f(+u);case P:case N:return new f(u);case O:return f(u.source,d.exec(u))}s||(s=[]),o||(o=[]);for(var g=s.length;g--;)if(s[g]==e)return o[g];return u=p?f(u.length):{},p&&(nr.call(e,"index")&&(u.index=e.index),nr.call(e,"input")&&(u.input=e.input)),s.push(e),o.push(u),(p?Tt:Ur)(e,function(e,i){u[i]=Y(e,t,r,n,s,o)}),u}function Z(e,t,n){return Y(e,!0,t,n)}function et(e,t,r){var i;return t=a.createCallback(t,r),Ur(e,function(e,r,a){return t(e,r,a)?(i=r,!1):n}),i}function tt(e){var t=[];return Nr(e,function(e,n){ct(e)&&t.push(n)}),t.sort()}function nt(e,t){return e?nr.call(e,t):!1}function rt(e){for(var t=-1,n=Lr(e),r=n.length,i={};r>++t;){var a=n[t];i[e[a]]=a}return i}function it(e){return e===!0||e===!1||sr.call(e)==L}function at(e){return e?"object"==typeof e&&sr.call(e)==E:!1}function st(e){return e?1===e.nodeType:!1}function ot(e){var t=!0;if(!e)return t;var n=sr.call(e),r=e.length;return n==j||n==N||(_r.argsClass?n==x:Q(e))||n==S&&"number"==typeof r&&ct(e.splice)?!r:(Ur(e,function(){return t=!1}),t)}function ut(e,t,r,i,s,u){var l=r===o;if("function"==typeof r&&!l){r=a.createCallback(r,i,2);var c=r(e,t);if(c!==n)return!!c}if(e===t)return 0!==e||1/e==1/t;var p=typeof e,f=typeof t;if(e===e&&(!e||"function"!=p&&"object"!=p)&&(!t||"function"!=f&&"object"!=f))return!1;if(null==e||null==t)return e===t;var g=sr.call(e),h=sr.call(t);if(g==x&&(g=S),h==x&&(h=S),g!=h)return!1;switch(g){case L:case E:return+e==+t;case P:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case O:case N:return e==Xn(t)}var d=g==j;if(!d){if(nr.call(e,"__wrapped__ ")||nr.call(t,"__wrapped__"))return ut(e.__wrapped__||e,t.__wrapped__||t,r,i,s,u);if(g!=S||!_r.nodeClass&&(X(e)||X(t)))return!1;var v=!_r.argsObject&&Q(e)?$n:e.constructor,b=!_r.argsObject&&Q(t)?$n:t.constructor;if(v!=b&&!(ct(v)&&v instanceof v&&ct(b)&&b instanceof b))return!1}s||(s=[]),u||(u=[]);for(var y=s.length;y--;)if(s[y]==e)return u[y]==t;var m=0;if(c=!0,s.push(e),u.push(t),d){if(y=e.length,m=t.length,c=m==e.length,!c&&!l)return c;for(;m--;){var _=y,C=t[m];if(l)for(;_--&&!(c=ut(e[_],C,r,i,s,u)););else if(!(c=ut(e[m],C,r,i,s,u)))break}return c}return Nr(t,function(t,a,o){return nr.call(o,a)?(m++,c=nr.call(e,a)&&ut(e[a],t,r,i,s,u)):n}),c&&!l&&Nr(e,function(e,t,r){return nr.call(r,t)?c=--m>-1:n}),c}function lt(e){return lr(e)&&!cr(parseFloat(e))}function ct(e){return"function"==typeof e}function pt(e){return e?A[typeof e]:!1}function ft(e){return ht(e)&&e!=+e}function gt(e){return null===e}function ht(e){return"number"==typeof e||sr.call(e)==P}function dt(e){return e?A[typeof e]&&sr.call(e)==O:!1}function vt(e){return"string"==typeof e||sr.call(e)==N}function bt(e){return e===n}function yt(e,t,r){var i=arguments,s=0,u=2;if(!pt(e))return e;if(r===o)var l=i[3],c=i[4],p=i[5];else c=[],p=[],"number"!=typeof r&&(u=i.length),u>3&&"function"==typeof i[u-2]?l=a.createCallback(i[--u-1],i[u--],2):u>2&&"function"==typeof i[u-1]&&(l=i[--u]);for(;u>++s;)(xr(i[s])?Tt:Ur)(i[s],function(t,r){var i,a,s=t,u=e[r];if(t&&((a=xr(t))||Ar(t))){for(var f=c.length;f--;)if(i=c[f]==t){u=p[f];break}if(!i){var g;l&&(s=l(u,t),(g=s!==n)&&(u=s)),g||(u=a?xr(u)?u:[]:Ar(u)?u:{}),c.push(t),p.push(u),g||(u=yt(u,t,o,l,c,p))}}else l&&(s=l(u,t),s===n&&(s=t)),s!==n&&(u=s);e[r]=u});return e}function mt(e,t,n){var r="function"==typeof t,i={};if(r)t=a.createCallback(t,n);else var s=Zn.apply(zn,vr.call(arguments,1));return Nr(e,function(e,n,a){(r?!t(e,n,a):0>Kt(s,n))&&(i[n]=e)}),i}function _t(e){for(var t=-1,n=Lr(e),r=n.length,i=In(r);r>++t;){var a=n[t];i[t]=[a,e[a]]}return i}function Ct(e,t,n){var r={};if("function"!=typeof t)for(var i=-1,s=Zn.apply(zn,vr.call(arguments,1)),o=pt(e)?s.length:0;o>++i;){var u=s[i];u in e&&(r[u]=e[u])}else t=a.createCallback(t,n),Nr(e,function(e,n,i){t(e,n,i)&&(r[n]=e)});return r}function kt(e){for(var t=-1,n=Lr(e),r=n.length,i=In(r);r>++t;)i[t]=e[n[t]];return i}function wt(e){var t=-1,n=Zn.apply(zn,vr.call(arguments,1)),r=n.length,i=In(r);for(_r.unindexedChars&&vt(e)&&(e=e.split(""));r>++t;)i[t]=e[n[t]];return i}function Bt(e,t,r){var i=-1,a=e?e.length:0,s=!1;return r=(0>r?fr(0,a+r):r)||0,"number"==typeof a?s=(vt(e)?e.indexOf(t,r):Kt(e,t,r))>-1:Er(e,function(e){return++i>=r?!(s=e===t):n}),s}function xt(e,t,n){var r={};return t=a.createCallback(t,n),Tt(e,function(e,n,i){n=Xn(t(e,n,i)),nr.call(r,n)?r[n]++:r[n]=1}),r}function jt(e,t,n){var r=!0;if(t=a.createCallback(t,n),xr(e))for(var i=-1,s=e.length;s>++i&&(r=!!t(e[i],i,e)););else Er(e,function(e,n,i){return r=!!t(e,n,i)});return r}function Lt(e,t,n){var r=[];if(t=a.createCallback(t,n),xr(e))for(var i=-1,s=e.length;s>++i;){var o=e[i];t(o,i,e)&&r.push(o)}else Er(e,function(e,n,i){t(e,n,i)&&r.push(e)});return r}function Et(e,t,r){if(t=a.createCallback(t,r),!xr(e)){var i;return Er(e,function(e,r,a){return t(e,r,a)?(i=e,!1):n}),i}for(var s=-1,o=e.length;o>++s;){var u=e[s];if(t(u,s,e))return u}}function Tt(e,t,r){if(t&&r===n&&xr(e))for(var i=-1,a=e.length;a>++i&&t(e[i],i,e)!==!1;);else Er(e,t,r);return e}function Pt(e,t,n){var r={};return t=a.createCallback(t,n),Tt(e,function(e,n,i){n=Xn(t(e,n,i)),(nr.call(r,n)?r[n]:r[n]=[]).push(e)}),r}function St(e,t){var n=vr.call(arguments,2),r=-1,i="function"==typeof t,a=e?e.length:0,s=In("number"==typeof a?a:0);return Tt(e,function(e){s[++r]=(i?t:e[t]).apply(e,n)}),s}function Ot(e,t,n){var r=-1,i=e?e.length:0,s=In("number"==typeof i?i:0);if(t=a.createCallback(t,n),xr(e))for(;i>++r;)s[r]=t(e[r],r,e);else Er(e,function(e,n,i){s[++r]=t(e,n,i)});return s}function Nt(e,t,n){var r=-1/0,i=r;if(!t&&xr(e))for(var s=-1,o=e.length;o>++s;){var u=e[s];u>i&&(i=u)}else t=!t&&vt(e)?R:a.createCallback(t,n),Er(e,function(e,n,a){var s=t(e,n,a);s>r&&(r=s,i=e)});return i}function Ut(e,t,n){var r=1/0,i=r;if(!t&&xr(e))for(var s=-1,o=e.length;o>++s;){var u=e[s];i>u&&(i=u)}else t=!t&&vt(e)?R:a.createCallback(t,n),Er(e,function(e,n,a){var s=t(e,n,a);r>s&&(r=s,i=e)});return i}function At(e,t,n,r){var i=3>arguments.length;if(t=a.createCallback(t,r,4),xr(e)){var s=-1,o=e.length;for(i&&(n=e[++s]);o>++s;)n=t(n,e[s],s,e)}else Er(e,function(e,r,a){n=i?(i=!1,e):t(n,e,r,a)});return n}function qt(e,t,n,r){var i=e,s=e?e.length:0,o=3>arguments.length;if("number"!=typeof s){var u=Lr(e);s=u.length}else _r.unindexedChars&&vt(e)&&(i=e.split(""));return t=a.createCallback(t,r,4),Tt(e,function(e,r,a){r=u?u[--s]:--s,n=o?(o=!1,i[r]):t(n,i[r],r,a)}),n}function It(e,t,n){return t=a.createCallback(t,n),Lt(e,function(e,n,r){return!t(e,n,r)})}function Mt(e){var t=-1,n=e?e.length:0,r=In("number"==typeof n?n:0);return Tt(e,function(e){var n=er(dr()*(++t+1));r[t]=r[n],r[n]=e}),r}function Rt(e){var t=e?e.length:0;return"number"==typeof t?t:Lr(e).length}function Ft(e,t,n){var r;if(t=a.createCallback(t,n),xr(e))for(var i=-1,s=e.length;s>++i&&!(r=t(e[i],i,e)););else Er(e,function(e,n,i){return!(r=t(e,n,i))});return!!r}function Dt(e,t,n){var r=-1,i=e?e.length:0,s=In("number"==typeof i?i:0);for(t=a.createCallback(t,n),Tt(e,function(e,n,i){s[++r]={criteria:t(e,n,i),index:r,value:e}}),i=s.length,s.sort(F);i--;)s[i]=s[i].value;return s}function Jt(e){return e&&"number"==typeof e.length?_r.unindexedChars&&vt(e)?e.split(""):V(e):kt(e)}function $t(e){for(var t=-1,n=e?e.length:0,r=[];n>++t;){var i=e[t];i&&r.push(i)}return r}function Ht(e){for(var t=-1,n=e?e.length:0,r=Zn.apply(zn,vr.call(arguments,1)),i=M(r),a=[];n>++t;){var s=e[t];i(s)||a.push(s)}return a}function Xt(e,t,n){var r=-1,i=e?e.length:0;for(t=a.createCallback(t,n);i>++r;)if(t(e[r],r,e))return r;return-1}function Wt(e,t,n){if(e){var r=0,i=e.length;if("number"!=typeof t&&null!=t){var s=-1;for(t=a.createCallback(t,n);i>++s&&t(e[s],s,e);)r++}else if(r=t,null==r||n)return e[0];return V(e,0,gr(fr(0,r),i))}}function zt(e,t,n,r){var i=-1,s=e?e.length:0,o=[];for("boolean"!=typeof t&&null!=t&&(r=n,n=t,t=!1),null!=n&&(n=a.createCallback(n,r));s>++i;){var u=e[i];n&&(u=n(u,i,e)),xr(u)?rr.apply(o,t?u:zt(u)):o.push(u)}return o}function Kt(e,t,n){var r=-1,i=e?e.length:0;if("number"==typeof n)r=(0>n?fr(0,i+n):n||0)-1;else if(n)return r=tn(e,t),e[r]===t?r:-1;for(;i>++r;)if(e[r]===t)return r;return-1}function Vt(e,t,n){if(!e)return[];var r=0,i=e.length;if("number"!=typeof t&&null!=t){var s=i;for(t=a.createCallback(t,n);s--&&t(e[s],s,e);)r++}else r=null==t||n?1:t||r;return V(e,0,gr(fr(0,i-r),i))}function Gt(e){var t=arguments,n=t.length,r={0:{}},i=-1,a=e?e.length:0,s=a>=l,o=[],c=o;e:for(;a>++i;){var p=e[i];if(s)var f=u+p,g=r[0][f]?!(c=r[0][f]):c=r[0][f]=[];if(g||0>Kt(c,p)){s&&c.push(p);for(var h=n;--h;)if(!(r[h]||(r[h]=M(t[h])))(p))continue e;o.push(p)}}return o}function Qt(e,t,n){if(e){var r=0,i=e.length;if("number"!=typeof t&&null!=t){var s=i;for(t=a.createCallback(t,n);s--&&t(e[s],s,e);)r++}else if(r=t,null==r||n)return e[i-1];return V(e,fr(0,i-r))}}function Yt(e,t,n){var r=e?e.length:0;for("number"==typeof n&&(r=(0>n?fr(0,r+n):gr(n,r-1))+1);r--;)if(e[r]===t)return r;return-1}function Zt(e,t,n){e=+e||0,n=+n||1,null==t&&(t=e,e=0);for(var r=-1,i=fr(0,Qn((t-e)/n)),a=In(i);i>++r;)a[r]=e,e+=n;return a}function en(e,t,n){if("number"!=typeof t&&null!=t){var r=0,i=-1,s=e?e.length:0;for(t=a.createCallback(t,n);s>++i&&t(e[i],i,e);)r++}else r=null==t||n?1:fr(0,t);return V(e,r)}function tn(e,t,n,r){var i=0,s=e?e.length:i;for(n=n?a.createCallback(n,r,1):xn,t=n(t);s>i;){var o=i+s>>>1;t>n(e[o])?i=o+1:s=o}return i}function nn(e){return xr(e)||(arguments[0]=e?vr.call(e):zn),rn(Zn.apply(zn,arguments))}function rn(e,t,n,r){var i=-1,s=e?e.length:0,o=[],c=o;"boolean"!=typeof t&&null!=t&&(r=n,n=t,t=!1);var p=!t&&s>=l;if(p)var f={};for(null!=n&&(c=[],n=a.createCallback(n,r));s>++i;){var g=e[i],h=n?n(g,i,e):g;if(p)var d=u+h,v=f[d]?!(c=f[d]):c=f[d]=[];(t?!i||c[c.length-1]!==h:v||0>Kt(c,h))&&((n||p)&&c.push(h),o.push(g))}return o}function an(e){for(var t=-1,n=e?e.length:0,r=n?Nt(qr(e,"length")):0,i=In(r);n>++t;)for(var a=-1,s=e[t];r>++a;)(i[a]||(i[a]=In(n)))[t]=s[a];return i}function sn(e){return Ht(e,vr.call(arguments,1))}function on(e){for(var t=-1,n=e?Nt(qr(arguments,"length")):0,r=In(n);n>++t;)r[t]=qr(arguments,t);return r}function un(e,t){for(var n=-1,r=e?e.length:0,i={};r>++n;){var a=e[n];t?i[a]=t[n]:i[a[0]]=a[1]}return i}function ln(e,t){return 1>e?t():function(){return 1>--e?t.apply(this,arguments):n}}function cn(e,t){return _r.fastBind||or&&arguments.length>2?or.call.apply(or,arguments):D(e,t,vr.call(arguments,2))}function pn(e){for(var t=arguments.length>1?Zn.apply(zn,vr.call(arguments,1)):tt(e),n=-1,r=t.length;r>++n;){var i=t[n];e[i]=cn(e[i],e)}return e}function fn(e,t){return D(e,t,vr.call(arguments,2),o)}function gn(){var e=arguments;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}}function hn(e,t,r){if(null==e)return xn;var i=typeof e;if("function"!=i){if("object"!=i)return function(t){return t[e]};var a=Lr(e);return function(t){for(var n=a.length,r=!1;n--&&(r=ut(t[a[n]],e[a[n]],o)););return r}}return t!==n?1===r?function(n){return e.call(t,n)}:2===r?function(n,r){return e.call(t,n,r)}:4===r?function(n,r,i,a){return e.call(t,n,r,i,a)}:function(n,r,i){return e.call(t,n,r,i)}:e}function dn(e,t,n){function r(){a=u=null,l&&(s=e.apply(o,i))}var i,a,s,o,u,l=!0;if(n===!0){var c=!0;l=!1}else n&&A[typeof n]&&(c=n.leading,l="trailing"in n?n.trailing:l);return function(){return i=arguments,o=this,Yn(u),!a&&c?(a=!0,s=e.apply(o,i)):u=ar(r,t),s}}function vn(e){var t=vr.call(arguments,1);return ar(function(){e.apply(n,t)},1)}function bn(e,t){var r=vr.call(arguments,2);return ar(function(){e.apply(n,r)},t)}function yn(e,t){var n={};return function(){var r=u+(t?t.apply(this,arguments):arguments[0]);return nr.call(n,r)?n[r]:n[r]=e.apply(this,arguments)}}function mn(e){var t,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}function _n(e){return D(e,vr.call(arguments,1))}function Cn(e){return D(e,vr.call(arguments,1),null,o)}function kn(e,t,n){function r(){o=null,c&&(u=new Rn,a=e.apply(s,i))}var i,a,s,o,u=0,l=!0,c=!0;return n===!1?l=!1:n&&A[typeof n]&&(l="leading"in n?n.leading:l,c="trailing"in n?n.trailing:c),function(){var n=new Rn;o||l||(u=n);var c=t-(n-u);return i=arguments,s=this,0>=c?(Yn(o),o=null,u=n,a=e.apply(s,i)):o||(o=ar(r,c)),a}}function wn(e,t){return function(){var n=[e];return rr.apply(n,arguments),t.apply(this,n)}}function Bn(e){return null==e?"":Xn(e).replace(_,H)}function xn(e){return e}function jn(e){Tt(tt(e),function(t){var n=a[t]=e[t];a.prototype[t]=function(){var e=this.__wrapped__,t=[e];rr.apply(t,arguments);var r=n.apply(a,t);return e&&"object"==typeof e&&e==r?this:new W(r)}})}function Ln(){return r._=Vn,this}function En(e,t){return null==e&&null==t&&(t=1),e=+e||0,null==t&&(t=e,e=0),e+er(dr()*((+t||0)-e+1))}function Tn(e,t){var r=e?e[t]:n;return ct(r)?e[t]():r}function Pn(e,t,r){var i=a.templateSettings;e||(e=""),r=Cr?Or({},r,i):i;var s,o=Cr&&Or({},r.imports,i.imports),u=Cr?Lr(o):["_"],l=Cr?kt(o):[a],g=0,d=r.interpolate||m,b="__p += '",y=Hn((r.escape||m).source+"|"+d.source+"|"+(d===v?h:m).source+"|"+(r.evaluate||m).source+"|$","g");e.replace(y,function(t,n,r,i,a,o){return r||(r=i),b+=e.slice(g,o).replace(C,$),n&&(b+="' +\n__e("+n+") +\n'"),a&&(s=!0,b+="';\n"+a+";\n__p += '"),r&&(b+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),g=o+t.length,t}),b+="';\n";var _=r.variable,k=_;k||(_="obj",b="with ("+_+") {\n"+b+"\n}\n"),b=(s?b.replace(c,""):b).replace(p,"$1").replace(f,"$1;"),b="function("+_+") {\n"+(k?"":_+" || ("+_+" = {});\n")+"var __t, __p = '', __e = _.escape"+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+b+"return __p\n}";var w="\n/*\n//@ sourceURL="+(r.sourceURL||"/lodash/template/source["+B++ +"]")+"\n*/";try{var x=Fn(u,"return "+b+w).apply(n,l)}catch(j){throw j.source=b,j}return t?x(t):(x.source=b,x)}function Sn(e,t,n){e=(e=+e)>-1?e:0;var r=-1,i=In(e);for(t=a.createCallback(t,n,1);e>++r;)i[r]=t(r);return i}function On(e){return null==e?"":Xn(e).replace(g,G)}function Nn(e){var t=++s;return Xn(null==e?"":e)+t}function Un(e,t){return t(e),e}function An(){return Xn(this.__wrapped__)}function qn(){return this.__wrapped__}r=r?I.defaults(e.Object(),r,I.pick(e,k)):e;var In=r.Array,Mn=r.Boolean,Rn=r.Date,Fn=r.Function,Dn=r.Math,Jn=r.Number,$n=r.Object,Hn=r.RegExp,Xn=r.String,Wn=r.TypeError,zn=In(),Kn=$n(),Vn=r._,Gn=Hn("^"+Xn(Kn.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),Qn=Dn.ceil,Yn=r.clearTimeout,Zn=zn.concat,er=Dn.floor,tr=Gn.test(tr=$n.getPrototypeOf)&&tr,nr=Kn.hasOwnProperty,rr=zn.push,ir=r.setImmediate,ar=r.setTimeout,sr=Kn.toString,or=Gn.test(or=sr.bind)&&or,ur=Gn.test(ur=In.isArray)&&ur,lr=r.isFinite,cr=r.isNaN,pr=Gn.test(pr=$n.keys)&&pr,fr=Dn.max,gr=Dn.min,hr=r.parseInt,dr=Dn.random,vr=zn.slice,br=Gn.test(r.attachEvent),yr=or&&!/\n|true/.test(or+br),mr={};mr[j]=In,mr[L]=Mn,mr[E]=Rn,mr[S]=$n,mr[P]=Jn,mr[O]=Hn,mr[N]=Xn;var _r=a.support={};(function(){var e=function(){this.x=1},t={0:1,length:1},n=[];e.prototype={valueOf:1,y:1};for(var r in new e)n.push(r);for(r in arguments);_r.argsObject=arguments.constructor==$n&&!(arguments instanceof In),_r.argsClass=Q(arguments),_r.enumPrototypes=e.propertyIsEnumerable("prototype"),_r.fastBind=or&&!yr,_r.ownLast="x"!=n[0],_r.nonEnumArgs=0!=r,_r.nonEnumShadows=!/valueOf/.test(n),_r.spliceObjects=(zn.splice.call(t,0,1),!t[0]),_r.unindexedChars="xx"!="x"[0]+$n("x")[0];try{_r.nodeClass=!(sr.call(document)==S&&!({toString:0}+""))}catch(i){_r.nodeClass=!0}})(1),a.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:v,variable:"",imports:{_:a}};var Cr=Pn("var index, iterable = <%= firstArg %>, result = <%= init %>;\nif (!iterable) return result;\n<%= top %>;\n<% if (arrays) { %>var length = iterable.length; index = -1;\nif (<%= arrays %>) {  <% if (support.unindexedChars) { %>\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  <% } %>\n  while (++index < length) {\n    <%= loop %>\n  }\n}\nelse {  <%  } else if (support.nonEnumArgs) { %>\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      <%= loop %>\n    }\n  } else {  <% } %>  <% if (support.enumPrototypes) { %>\n  var skipProto = typeof iterable == 'function';\n  <% } %>  <% if (useHas && useKeys) { %>\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] ? keys(iterable) : [],\n      length = ownProps.length;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n    <% if (support.enumPrototypes) { %>if (!(skipProto && index == 'prototype')) {\n  <% } %>    <%= loop %>\n    <% if (support.enumPrototypes) { %>}\n<% } %>  }  <% } else { %>\n  for (index in iterable) {<%    if (support.enumPrototypes || useHas) { %>\n    if (<%      if (support.enumPrototypes) { %>!(skipProto && index == 'prototype')<% }      if (support.enumPrototypes && useHas) { %> && <% }      if (useHas) { %>hasOwnProperty.call(iterable, index)<% }    %>) {    <% } %>\n    <%= loop %>;    <% if (support.enumPrototypes || useHas) { %>\n    }<% } %>\n  }    <% if (support.nonEnumShadows) { %>\n\n  var ctor = iterable.constructor;\n      <% for (var k = 0; k < 7; k++) { %>\n  index = '<%= shadowedProps[k] %>';\n  if (<%      if (shadowedProps[k] == 'constructor') {        %>!(ctor && ctor.prototype === iterable) && <%      } %>hasOwnProperty.call(iterable, index)) {\n    <%= loop %>\n  }      <% } %>    <% } %>  <% } %>  <% if (arrays || support.nonEnumArgs) { %>\n}<% } %>\n<%= bottom %>;\nreturn result"),kr={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},wr={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : lodash.createCallback(callback, thisArg)",arrays:"typeof length == 'number'",loop:"if (callback(iterable[index], index, collection) === false) return result"},Br={top:"if (!objectTypes[typeof iterable]) return result;\n"+wr.top,arrays:!1};W.prototype=a.prototype,_r.argsClass||(Q=function(e){return e?nr.call(e,"callee"):!1});var xr=ur||function(e){return e?"object"==typeof e&&sr.call(e)==j:!1},jr=J({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)",arrays:!1}),Lr=pr?function(e){return pt(e)?_r.enumPrototypes&&"function"==typeof e||_r.nonEnumArgs&&e.length&&Q(e)?jr(e):pr(e):[]}:jr,Er=J(wr),Tr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Pr=rt(Tr),Sr=J(kr,{top:kr.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = lodash.createCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),Or=J(kr),Nr=J(wr,Br,{useHas:!1}),Ur=J(wr,Br);ct(/x/)&&(ct=function(e){return"function"==typeof e&&sr.call(e)==T});var Ar=tr?function(e){if(!e||sr.call(e)!=S||!_r.argsClass&&Q(e))return!1;var t=e.valueOf,n="function"==typeof t&&(n=tr(t))&&tr(n);return n?e==n||tr(e)==n:K(e)}:K,qr=Ot,Ir=Lt;yr&&i&&"function"==typeof ir&&(vn=cn(ir,r));var Mr=8==hr(b+"08")?hr:function(e,t){return hr(vt(e)?e.replace(y,""):e,t||0)};return a.after=ln,a.assign=Sr,a.at=wt,a.bind=cn,a.bindAll=pn,a.bindKey=fn,a.compact=$t,a.compose=gn,a.countBy=xt,a.createCallback=hn,a.debounce=dn,a.defaults=Or,a.defer=vn,a.delay=bn,a.difference=Ht,a.filter=Lt,a.flatten=zt,a.forEach=Tt,a.forIn=Nr,a.forOwn=Ur,a.functions=tt,a.groupBy=Pt,a.initial=Vt,a.intersection=Gt,a.invert=rt,a.invoke=St,a.keys=Lr,a.map=Ot,a.max=Nt,a.memoize=yn,a.merge=yt,a.min=Ut,a.omit=mt,a.once=mn,a.pairs=_t,a.partial=_n,a.partialRight=Cn,a.pick=Ct,a.pluck=qr,a.range=Zt,a.reject=It,a.rest=en,a.shuffle=Mt,a.sortBy=Dt,a.tap=Un,a.throttle=kn,a.times=Sn,a.toArray=Jt,a.union=nn,a.uniq=rn,a.unzip=an,a.values=kt,a.where=Ir,a.without=sn,a.wrap=wn,a.zip=on,a.zipObject=un,a.collect=Ot,a.drop=en,a.each=Tt,a.extend=Sr,a.methods=tt,a.object=un,a.select=Lt,a.tail=en,a.unique=rn,jn(a),a.clone=Y,a.cloneDeep=Z,a.contains=Bt,a.escape=Bn,a.every=jt,a.find=Et,a.findIndex=Xt,a.findKey=et,a.has=nt,a.identity=xn,a.indexOf=Kt,a.isArguments=Q,a.isArray=xr,a.isBoolean=it,a.isDate=at,a.isElement=st,a.isEmpty=ot,a.isEqual=ut,a.isFinite=lt,a.isFunction=ct,a.isNaN=ft,a.isNull=gt,a.isNumber=ht,a.isObject=pt,a.isPlainObject=Ar,a.isRegExp=dt,a.isString=vt,a.isUndefined=bt,a.lastIndexOf=Yt,a.mixin=jn,a.noConflict=Ln,a.parseInt=Mr,a.random=En,a.reduce=At,a.reduceRight=qt,a.result=Tn,a.runInContext=t,a.size=Rt,a.some=Ft,a.sortedIndex=tn,a.template=Pn,a.unescape=On,a.uniqueId=Nn,a.all=jt,a.any=Ft,a.detect=Et,a.foldl=At,a.foldr=qt,a.include=Bt,a.inject=At,Ur(a,function(e,t){a.prototype[t]||(a.prototype[t]=function(){var t=[this.__wrapped__];return rr.apply(t,arguments),e.apply(a,t)})}),a.first=Wt,a.last=Qt,a.take=Wt,a.head=Wt,Ur(a,function(e,t){a.prototype[t]||(a.prototype[t]=function(t,n){var r=e(this.__wrapped__,t,n);return null==t||n&&"function"!=typeof t?r:new W(r)})}),a.VERSION="1.2.1",a.prototype.toString=An,a.prototype.value=qn,a.prototype.valueOf=qn,Er(["join","pop","shift"],function(e){var t=zn[e];a.prototype[e]=function(){return t.apply(this.__wrapped__,arguments)}}),Er(["push","reverse","sort","unshift"],function(e){var t=zn[e];a.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),Er(["concat","slice","splice"],function(e){var t=zn[e];a.prototype[e]=function(){return new W(t.apply(this.__wrapped__,arguments))}}),_r.spliceObjects||Er(["pop","shift","splice"],function(e){var t=zn[e],n="splice"==e;a.prototype[e]=function(){var e=this.__wrapped__,r=t.apply(e,arguments);return 0===e.length&&delete e[0],n?new W(r):r}}),a._each=Er,a._iteratorTemplate=Cr,a._shimKeys=jr,a}var n,r="object"==typeof exports&&exports,i="object"==typeof module&&module&&module.exports==r&&module,a="object"==typeof global&&global;(a.global===a||a.window===a)&&(e=a);var s=0,o={},u=+new Date+"",l=200,c=/\b__p \+= '';/g,p=/\b(__p \+=) '' \+/g,f=/(__e\(.*?\)|\b__t\)) \+\n'';/g,g=/&(?:amp|lt|gt|quot|#39);/g,h=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,d=/\w*$/,v=/<%=([\s\S]+?)%>/g,b=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",y=RegExp("^["+b+"]*0+(?=.$)"),m=/($^)/,_=/[&<>"']/g,C=/['\n\r\t\u2028\u2029\\]/g,k=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setImmediate","setTimeout"],w=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],B=0,x="[object Arguments]",j="[object Array]",L="[object Boolean]",E="[object Date]",T="[object Function]",P="[object Number]",S="[object Object]",O="[object RegExp]",N="[object String]",U={};U[T]=!1,U[x]=U[j]=U[L]=U[E]=U[P]=U[S]=U[O]=U[N]=!0;var A={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},q={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},I=t();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(e._=I,define(function(){return I})):r&&!r.nodeType?i?(i.exports=I)._=I:r._=I:e._=I})(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};this.Bigscreen||(this.Bigscreen={}),Bigscreen.CaptionControl=function(){function e(e){this.video=e}return e.prototype.captionsData=function(){var e,t,n,r,i;for(t=this.video.parentNode.querySelectorAll("track[kind=subtitles]"),i=[],n=0,r=t.length;r>n;n++)e=t[n],i.push(this.trackData(e));return i},e.prototype.trackData=function(e){return{language:e.getAttribute("srclang"),title:e.title||e.getAttribute("srclang")}},e.prototype.render=function(){var e;return e=this.captionsData(),JST["bigscreen/templates/caption_control"]({captionsData:e})},e}(),this.Bigscreen||(this.Bigscreen={}),Bigscreen.CaptionLayer=function(){function t(t){this.video=t,this.onTimeUpdate=e(this.onTimeUpdate,this),this.onLanguageChange=e(this.onLanguageChange,this),Bigscreen.Utils.Events.delegate("change",this.video.parentNode,".bigscreen-caption-control input",this.onLanguageChange),this.processedLanguages={error:"The selected language isn't available.",none:" "}}return t.prototype.onLanguageChange=function(e){var t,n;return n=e.target.value,this.processedLanguages[n]?this.setActiveLanguage(n):(t=this.video.querySelector("track[kind=subtitles][srclang="+n+"]"),this.processCaptionTrack(t))},t.prototype.processCaptionTrack=function(e){var t=this;return this.request=new XMLHttpRequest,this.request.open("GET",e.getAttribute("src")),this.request.onreadystatechange=function(){return 4===t.request.readyState?200===t.request.status?(t.parseCaptions(e.getAttribute("srclang"),t.request.responseText),t.setActiveLanguage(e.getAttribute("srclang"))):t.setActiveLanguage("error"):void 0},this.request.send()},t.prototype.parseCaptions=function(e,t){var n,r,i,a,s;for(a=/^[0-9]+$/,s=t.split(/\r?\n/),n=[],i=0;s.length>i;)s[i].match(a)&&(r={},r.times=this.parseTimeCode(s[i+1]),r.text=s[i+2],n.push(r)),i++;return this.processedLanguages[e]=n},t.prototype.parseTimeCode=function(e){var t,n,r,i,a,s;return s=/^([0-9]{2}):([0-9]{2}):([0-9]{2}),([0-9]{1,3}) --\> ([0-9]{2}):([0-9]{2}):([0-9]{2}),([0-9]{1,3})$/,r=s.exec(e),i={hours:parseInt(r[1],10),minutes:parseInt(r[2],10),seconds:parseInt(r[3],10),miliseconds:parseInt(r[4],10)},t={hours:parseInt(r[5],10),minutes:parseInt(r[6],10),seconds:parseInt(r[7],10),miliseconds:parseInt(r[8],10)},a=60*60*i.hours+60*i.minutes+i.seconds+i.miliseconds/1e3,n=60*60*t.hours+60*t.minutes+t.seconds+t.miliseconds/1e3,[a,n]},t.prototype.setActiveLanguage=function(e){return this.currentLanguage=this.processedLanguages[e],"string"==typeof this.currentLanguage?(this.video.removeEventListener("timeupdate",this.onTimeUpdate),this.showCaptionMessage(this.currentLanguage)):(this.video.removeEventListener("timeupdate",this.onTimeUpdate),this.video.addEventListener("timeupdate",this.onTimeUpdate))},t.prototype.showCaptionMessage=function(e){var t;return t=this.getElement().querySelector(".bigscreen-caption-content"),t.textContent=e},t.prototype.onTimeUpdate=function(){var e,t,n,r,i,a;for(t=this.video.currentTime,i=this.currentLanguage,a=[],n=0,r=i.length;r>n;n++)e=i[n],t>=e.times[0]&&e.times[1]>t?a.push(this.showCaptionMessage(e.text)):a.push(void 0);return a},t.prototype.getElement=function(){return this.video.parentNode.querySelector(".bigscreen-caption-layer")},t.prototype.render=function(){return JST["bigscreen/templates/caption_layer"]()},t}(),this.Bigscreen||(this.Bigscreen={}),Bigscreen.FullscreenControl=function(){function t(t){this.video=t,this.onClick=e(this.onClick,this),this.isFullscreen=!1,Bigscreen.Utils.Events.delegate("click",this.video.parentNode,".bigscreen-fullscreen-control",this.onClick)}return t.prototype.onClick=function(){return this.isFullscreen===!0?this.exitFullscreen():this.enterFullscreen()},t.prototype.enterFullscreen=function(){return Bigscreen.Utils.ClassList.add("bigscreen-is-fullscreen",this.video.parentNode),this.isFullscreen=!0},t.prototype.exitFullscreen=function(){return Bigscreen.Utils.ClassList.remove("bigscreen-is-fullscreen",this.video.parentNode),this.isFullscreen=!1},t.prototype.getElement=function(){return this.video.parentNode.querySelector(".bigscreen-fullscreen-control")},t.prototype.render=function(){return JST["bigscreen/templates/fullscreen_control"]()},t}(),this.Bigscreen||(this.Bigscreen={}),Bigscreen.PauseButton=function(){function t(t){this.video=t,this.onClick=e(this.onClick,this),this.wasPlayed=e(this.wasPlayed,this),this.wasPaused=e(this.wasPaused,this),this.video.addEventListener("pause",this.wasPaused),this.video.addEventListener("play",this.wasPlayed),Bigscreen.Utils.Events.delegate("click",this.video.parentNode,".bigscreen-pause-button",this.onClick)}return t.prototype.wasPaused=function(){return Bigscreen.Utils.ClassList.add("bigscreen-is-paused",this.video.parentNode)},t.prototype.wasPlayed=function(){return Bigscreen.Utils.ClassList.remove("bigscreen-is-paused",this.video.parentNode)},t.prototype.onClick=function(){return this.video.paused?void 0:this.video.pause()},t.prototype.render=function(){return JST["bigscreen/templates/pause_button"]()},t.prototype.getElement=function(){return this.video.parentNode.querySelector(".bigscreen-pause-button")},t}(),this.Bigscreen||(this.Bigscreen={}),Bigscreen.PlayButton=function(){function t(t){this.video=t,this.onClick=e(this.onClick,this),this.wasPaused=e(this.wasPaused,this),this.wasPlayed=e(this.wasPlayed,this),this.video.addEventListener("play",this.wasPlayed),this.video.addEventListener("pause",this.wasPaused),Bigscreen.Utils.Events.delegate("click",this.video.parentNode,".bigscreen-play-button",this.onClick)}return t.prototype.wasPlayed=function(){return Bigscreen.Utils.ClassList.add("bigscreen-is-playing",this.video.parentNode)},t.prototype.wasPaused=function(){return Bigscreen.Utils.ClassList.remove("bigscreen-is-playing",this.video.parentNode)},t.prototype.onClick=function(){return this.video.paused?this.video.play():void 0},t.prototype.getElement=function(){return this.video.parentNode.querySelector(".bigscreen-play-button")},t.prototype.render=function(){return JST["bigscreen/templates/play_button"]()},t}(),this.Bigscreen||(this.Bigscreen={}),Bigscreen.PlayToggle=function(){function t(t){this.video=t,this.render=e(this.render,this),this.toggle=e(this.toggle,this),this.onPause=e(this.onPause,this),this.onPlay=e(this.onPlay,this),this.video.addEventListener("play",this.onPlay),this.video.addEventListener("pause",this.onPause),Bigscreen.Utils.Events.delegate("click",this.video.parentNode,".bigscreen-play-toggle",this.toggle)}return t.prototype.onPlay=function(){return this.getElement().classList.add("bigscreen-is-playing"),this.getElement().classList.remove("bigscreen-is-paused")
},t.prototype.onPause=function(){return this.getElement().classList.add("bigscreen-is-paused"),this.getElement().classList.remove("bigscreen-is-playing")},t.prototype.toggle=function(){return this.video.paused?this.video.play():this.video.pause()},t.prototype.getElement=function(){return this.element||(this.element=this.video.parentNode.querySelector(".bigscreen-play-toggle"))},t.prototype.render=function(){return JST["bigscreen/templates/play_toggle"]()},t}(),this.Bigscreen||(this.Bigscreen={}),Bigscreen.PlaybackRateControl=function(){function t(t){this.video=t,this.onOptionChange=e(this.onOptionChange,this),this.rateWasChanged=e(this.rateWasChanged,this),this.video.addEventListener("ratechange",this.rateWasChanged),Bigscreen.Utils.Events.delegate("change",this.video.parentNode,".bigscreen-playback-rate-control input",this.onOptionChange)}return t.prototype.rateWasChanged=function(){var e;return e=this.getElement().querySelector("li[data-playback-rate='"+this.video.playbackRate+"']"),e?e.querySelector("input[type=radio]").checked=!0:this.getElement().querySelector("input[type=radio][checked]").checked=!1},t.prototype.onOptionChange=function(e){return this.video.playbackRate=e.target.value},t.prototype.getElement=function(){return this.video.parentNode.querySelector(".bigscreen-playback-rate-control")},t.prototype.render=function(){return JST["bigscreen/templates/playback_rate_control"]()},t}(),this.Bigscreen||(this.Bigscreen={}),Bigscreen.ProgressControl=function(){function t(t){this.video=t,this.onMouseMove=e(this.onMouseMove,this),this.onMouseOut=e(this.onMouseOut,this),this.onMouseOver=e(this.onMouseOver,this),this.onClick=e(this.onClick,this),this.onTimeUpdate=e(this.onTimeUpdate,this),this.video.addEventListener("timeupdate",this.onTimeUpdate),this.video.addEventListener("load",this.setDuration),Bigscreen.Utils.Events.delegate("click",this.video.parentNode,".bigscreen-progress-bar",this.onClick),Bigscreen.Utils.Events.delegate("mouseover",this.video.parentNode,".bigscreen-progress-bar",this.onMouseOver),Bigscreen.Utils.Events.delegate("mouseout",this.video.parentNode,".bigscreen-progress-bar",this.onMouseOut),this.durationSet=!1}return t.prototype.onTimeUpdate=function(){return this.durationSet||this.setDuration(),this.updateCurrentTime(),this.updateProgressBar()},t.prototype.setDuration=function(){var e;return e=this.getElement(".bigscreen-duration-label"),e.textContent=this.secondsToTimeLabel(this.video.duration),this.durationSet=!0},t.prototype.updateCurrentTime=function(){var e;return e=this.getElement(".bigscreen-current-time-label"),e.textContent=this.secondsToTimeLabel(this.video.currentTime)},t.prototype.updateProgressBar=function(){var e;return e=100*(this.video.currentTime/this.video.duration),this.getElement(".bigscreen-progress").setAttribute("style","width: "+e+"%")},t.prototype.onClick=function(e){var t,n;return t=this.getElement(".bigscreen-progress-bar"),n=this.relativeXOffset(e.pageX,t)/t.clientWidth,this.video.currentTime=this.video.duration*n},t.prototype.onMouseOver=function(){return this.getElement(".bigscreen-progress-bar").addEventListener("mousemove",this.onMouseMove),this.getElement(".bigscreen-progress-tooltip").setAttribute("style","display: block")},t.prototype.onMouseOut=function(){return this.getElement(".bigscreen-progress-bar").removeEventListener("mousemove",this.onMouseMove),this.getElement(".bigscreen-progress-tooltip").setAttribute("style","display: none")},t.prototype.onMouseMove=function(e){var t,n,r;return t=this.getElement(".bigscreen-progress-bar"),n=this.relativeXOffset(e.pageX,t)/t.clientWidth,r=this.getElement(".bigscreen-progress-tooltip"),r.textContent=this.secondsToTimeLabel(this.video.duration*n),r.setAttribute("style","left: "+100*n+"%")},t.prototype.getElement=function(e){var t;return t=".bigscreen-progress-control",null!=e&&(t=t+=" "+e),this.video.parentNode.querySelector(t)},t.prototype.render=function(){return JST["bigscreen/templates/progress_control"]()},t.prototype.secondsToTimeLabel=function(e){var t,n,r;return t=Math.floor(e/3600),n=Math.floor(e/60)%60,e=Math.floor(e)%60,r="",t>0&&(r+=""+this.formatTimeSegment(t)+":"),r+=""+this.formatTimeSegment(n)+":"+this.formatTimeSegment(e)},t.prototype.formatTimeSegment=function(e){var t;return t="00",(t+e).slice(-t.length)},t.prototype.relativeXOffset=function(e,t){var n;return n=t.getBoundingClientRect().left+window.pageXOffset-document.documentElement.clientLeft,e-n},t}(),this.Bigscreen||(this.Bigscreen={}),Bigscreen.Tv=function(){function e(e){this.video=e,Bigscreen.Utils.ClassList.add("bigscreen-is-paused",this.video.parentNode),this.features={playButton:new Bigscreen.PlayButton(e),pauseButton:new Bigscreen.PauseButton(e),playbackRateControl:Bigscreen.Utils.FeatureDetects.playbackRate?new Bigscreen.PlaybackRateControl(e):null,captionControl:new Bigscreen.CaptionControl(e),captionLayer:new Bigscreen.CaptionLayer(e),progressControl:new Bigscreen.ProgressControl(e),fullscreenControl:new Bigscreen.FullscreenControl(e)},this.render(this.features)}return e.prototype.render=function(e){var t;return t=document.createElement("div"),t.className="bigscreen-features",t.innerHTML=JST["bigscreen/templates/tv"](e),this.video.parentNode.appendChild(t)},e}(),this.Bigscreen||(this.Bigscreen={}),Bigscreen.Utils||(Bigscreen.Utils={}),Bigscreen.Utils.ClassList=function(){function e(){}return e.supportsClassList=null!=document.documentElement.classList,e.parseClassList=function(e){return""===e.className?[]:e.className.replace(/^\s+|\s+$/g,"").split(/\s+/)},e.add=function(e,t){var n;return this.supportsClassList?t.classList.add(e):(n=this.parseClassList(t),-1===n.indexOf(e)&&n.push(e),t.className=n.join(" "))},e.remove=function(e,t){var n,r;return this.supportsClassList?t.classList.remove(e):(n=this.parseClassList(t),r=n.indexOf(e),-1!==r?(n.splice(r,1),t.className=n.join(" ")):void 0)},e}(),this.Bigscreen||(this.Bigscreen={}),Bigscreen.Utils||(Bigscreen.Utils={}),Bigscreen.Utils.Enumerable=function(){function e(){}return e.includes=function(e,t){var n,r,i;if(e.indexOf)return e.indexOf(t)>=0;for(r=0,i=e.length;i>r;r++)if(n=e[r],n===t)return!0;return!1},e}(),this.Bigscreen||(this.Bigscreen={}),Bigscreen.Utils||(Bigscreen.Utils={}),Bigscreen.Utils.Events=function(){function e(){}return e.delegate=function(e,t,n,r){return t.addEventListener(e,function(e){var i,a,s,o;for(s=t.querySelectorAll(n),i=e.target,o=[];i!==t;)a=Bigscreen.Utils.Enumerable.includes(s,i),a&&r.apply(this,arguments),o.push(i=i.parentNode);return o})},e}(),this.Bigscreen||(this.Bigscreen={}),Bigscreen.Utils||(Bigscreen.Utils={}),Bigscreen.Utils.FeatureDetects=function(){function e(){}return e.playbackRate=null!=document.createElement("video").playbackRate,e}()}.call(this),this.JST=this.JST||{},this.JST["bigscreen/templates/caption_control"]=function(obj){obj||(obj={});var __t,__p="";with(_.escape,Array.prototype.join,obj){if(captionsData.length){__p+='\n  <div class="bigscreen-caption-control">\n    <div class="bigscreen-control-headline">\n      Caption Language\n    </div>\n    <ul>\n      <li data-caption-language="none">\n        <label>\n          <input type="radio"\n            name="bigscreen-caption-language"\n            id="bigscreen-caption-language-none"\n            value="none"\n            checked>\n          <span class="bigscreen-label-value">None</span>\n        </label>\n      </li>\n\n      ';for(var i in captionsData){__p+="\n        ";var track=captionsData[i];__p+='\n        <li data-caption-language="'+(null==(__t=track.language)?"":__t)+'">\n          <label>\n            <input type="radio"\n              name="bigscreen-caption-language"\n              id="bigscreen-caption-language-'+(null==(__t=track.language)?"":__t)+'"\n              value="'+(null==(__t=track.language)?"":__t)+'">\n            <span class="bigscreen-label-value">'+(null==(__t=track.title)?"":__t)+"</span>\n          </label>\n        </li>\n      "}__p+="\n    </ul>\n  </div>\n"}__p+="\n"}return __p},this.JST["bigscreen/templates/caption_layer"]=function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='<div class="bigscreen-caption-layer">\n  <div class="bigscreen-caption-content">\n  </div>\n</div>\n';return __p},this.JST["bigscreen/templates/fullscreen_control"]=function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='<a class="bigscreen-fullscreen-control">Toggle Fullscreen</a>\n';return __p},this.JST["bigscreen/templates/pause_button"]=function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='<a class="bigscreen-pause-button">Pause</a>\n';return __p},this.JST["bigscreen/templates/play_button"]=function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='<a class="bigscreen-play-button">Play</a>\n';return __p},this.JST["bigscreen/templates/playback_rate_control"]=function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='<div class="bigscreen-playback-rate-control">\n  <div class="bigscreen-control-headline">\n    Video speed\n  </div>\n  <ul>\n    <li data-playback-rate="1">\n      <label for="bigscreen-playback-rate-normal">\n        <input type="radio"\n          name="bigscreen-playback-rate"\n          id="bigscreen-playback-rate-normal"\n          value="1"\n          checked>\n        <span class="bigscreen-label-value">Normal</span>\n      </label>\n    </li>\n    <li data-playback-rate="1.5">\n      <label for="bigscreen-playback-rate-1-5x">\n        <input type="radio"\n          name="bigscreen-playback-rate"\n          id="bigscreen-playback-rate-1-5x"\n          value="1.5">\n        <span class="bigscreen-label-value">1.5x</span>\n      </label>\n    </li>\n    <li data-playback-rate="2">\n      <label for="bigscreen-playback-rate-2-0x">\n        <input type="radio"\n          name="bigscreen-playback-rate"\n          id="bigscreen-playback-rate-2-0x"\n          value="2">\n        <span class="bigscreen-label-value">2.0x</span>\n      </label>\n    </li>\n  </ul>\n</div>\n';return __p},this.JST["bigscreen/templates/progress_control"]=function(obj){obj||(obj={});var __p="";with(_.escape,obj)__p+='<div class="bigscreen-progress-control">\n  <div class="bigscreen-time-label bigscreen-current-time-label">0:00</div>\n  <div class="bigscreen-progress-bar">\n    <div class="bigscreen-progress"></div>\n    <div class="bigscreen-progress-tooltip" style="display: none">0:00</div>\n  </div>\n  <div class="bigscreen-time-label bigscreen-duration-label">0:00</div>\n</div>\n';return __p},this.JST["bigscreen/templates/tv"]=function(obj){obj||(obj={});var __t,__p="";with(_.escape,Array.prototype.join,obj)__p+='<div class="bigscreen-layers">\n  '+(null==(__t=captionLayer.render())?"":__t)+'\n</div>\n\n<div class="bigscreen-controls">\n  '+(null==(__t=playButton.render())?"":__t)+"\n  "+(null==(__t=pauseButton.render())?"":__t)+"\n  "+(null==(__t=progressControl.render())?"":__t)+"\n  ",playbackRateControl&&(__p+="\n    "+(null==(__t=playbackRateControl.render())?"":__t)+"\n  "),__p+="\n  "+(null==(__t=captionControl.render())?"":__t)+"\n  "+(null==(__t=fullscreenControl.render())?"":__t)+"\n</div>\n";return __p};